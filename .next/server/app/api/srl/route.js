"use strict";(()=>{var e={};e.id=98,e.ids=[98],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6816:(e,a,r)=>{r.r(a),r.d(a,{headerHooks:()=>g,originalPathname:()=>w,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>v});var t={};r.r(t),r.d(t,{GET:()=>s,POST:()=>u});var i=r(5419),n=r(9108),o=r(9678);let p=new(r(3524)).PrismaClient;async function s(){let e=await p.srl.findMany({include:{proprietar:!0,coproprietar:!0,manager:!0,avize:!0,sanctiuni:!0}});return Response.json(e)}async function u(e){let a=await e.json(),r=await p.persoana.create({data:a.proprietar||{}}),t=a.coproprietar?await p.persoana.create({data:a.coproprietar}):null,i=a.manager?await p.persoana.create({data:a.manager}):null,n=await p.srl.create({data:{nume:a.nume,tip:a.tip,locatie:a.locatie,proprietarId:r.id,coproprietarId:t?.id,managerId:i?.id},include:{proprietar:!0,coproprietar:!0,manager:!0,avize:!0,sanctiuni:!0}});return Response.json(n)}let c=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/srl/route",pathname:"/api/srl",filename:"route",bundlePath:"app/api/srl/route"},resolvedPagePath:"/workspaces/anpc-bzone/app/api/srl/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:g,staticGenerationBailout:v}=c,w="/api/srl/route";function h(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},5419:(e,a,r)=>{e.exports=r(517)}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[638],()=>r(6816));module.exports=t})();